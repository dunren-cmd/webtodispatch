# Supabase IP é…ç½®æ›´æ–°èªªæ˜

## ğŸ“‹ æ›´æ–°å…§å®¹

å·²å°‡ Supabase é€£çµå¾ `192.168.68.75` æ›´æ–°ç‚º `192.168.62.101`

## âœ… å·²æ›´æ–°çš„æ–‡ä»¶

### 1. `.env` æ–‡ä»¶
```env
VITE_SUPABASE_URL=http://192.168.62.101:54321
```

### 2. `api.ts` æ–‡ä»¶
```typescript
const SUPABASE_URL = import.meta.env.VITE_SUPABASE_URL || 'http://192.168.62.101:54321';
```

### 3. `Code.gs` æ–‡ä»¶ï¼ˆGoogle Apps Scriptï¼‰
```javascript
const SUPABASE_URL = "http://192.168.62.101:54321";
```

### 4. `supabase/config.toml` æ–‡ä»¶
```toml
api_url = "http://192.168.62.101"
```

## ğŸŒ æ–°çš„è¨ªå•åœ°å€

| æœå‹™ | åœ°å€ |
|------|------|
| **Supabase API** | `http://192.168.62.101:54321` |
| **Supabase Studio** | `http://192.168.62.101:54323` |
| **å‰ç«¯æ‡‰ç”¨** | `http://192.168.62.101:3050` |

## ğŸ”„ é‡å•Ÿæœå‹™

é…ç½®æ›´æ–°å¾Œï¼Œéœ€è¦é‡å•Ÿå‰ç«¯æœå‹™ä»¥æ‡‰ç”¨æ–°é…ç½®ï¼š

```bash
cd /home/dunren/cursor/webtodispatch/WebToDispatch_2

# åœæ­¢ç¾æœ‰æœå‹™
pkill -f "vite.*--host"

# é‡æ–°å•Ÿå‹•
npm run dev
```

## âœ… é©—è­‰é…ç½®

### 1. æª¢æŸ¥ç’°å¢ƒè®Šæ•¸
```bash
cat .env | grep VITE_SUPABASE_URL
```

æ‡‰è©²é¡¯ç¤ºï¼š
```
VITE_SUPABASE_URL=http://192.168.62.101:54321
```

### 2. æ¸¬è©¦ Supabase é€£æ¥
```bash
curl http://192.168.62.101:54321/rest/v1/
```

æ‡‰è©²è¿”å› API è³‡è¨Šï¼ˆJSON æ ¼å¼ï¼‰

### 3. æª¢æŸ¥å‰ç«¯é€£æ¥
åœ¨ç€è¦½å™¨ä¸­è¨ªå• `http://192.168.62.101:3050`ï¼Œæ‰“é–‹é–‹ç™¼è€…å·¥å…·ï¼ˆF12ï¼‰ï¼ŒæŸ¥çœ‹ Console ä¸­çš„é…ç½®è³‡è¨Šã€‚

æ‡‰è©²çœ‹åˆ°ï¼š
```
ğŸ”§ ç’°å¢ƒé…ç½®ï¼š
  SUPABASE_URL: http://192.168.62.101:54321
```

## ğŸ“ æ³¨æ„äº‹é …

1. **Google Apps Script**ï¼šå¦‚æœä½¿ç”¨ Google Apps Scriptï¼Œéœ€è¦æ‰‹å‹•æ›´æ–° `Code.gs` ä¸­çš„ `SUPABASE_URL`ï¼ˆå·²å®Œæˆï¼‰

2. **å…¶ä»–è¨­å‚™è¨ªå•**ï¼šç¢ºä¿å…¶ä»–è¨­å‚™å¯ä»¥è¨ªå• `192.168.62.101`ï¼ˆåŒä¸€ç¶²è·¯ï¼‰

3. **é˜²ç«ç‰†**ï¼šç¢ºä¿ç«¯å£ 54321ã€54323ã€3050 æœªè¢«é˜²ç«ç‰†é˜»æ“‹

4. **Supabase æœå‹™**ï¼šç¢ºä¿ Supabase æœå‹™æ­£åœ¨é‹è¡Œä¸¦ç¶å®šåˆ°æ­£ç¢ºçš„ IP

## ğŸ”§ æ•…éšœæ’é™¤

### å¦‚æœç„¡æ³•é€£æ¥

1. **æª¢æŸ¥ Supabase æœå‹™ç‹€æ…‹**
   ```bash
   # å¦‚æœä½¿ç”¨ Docker
   docker ps | grep supabase
   
   # æª¢æŸ¥ç«¯å£æ˜¯å¦ç›£è½
   netstat -tlnp | grep 54321
   ```

2. **æª¢æŸ¥ IP åœ°å€**
   ```bash
   hostname -I
   ```
   ç¢ºèªç•¶å‰ IP æ˜¯ `192.168.62.101`

3. **æª¢æŸ¥ç¶²è·¯é€£æ¥**
   ```bash
   ping 192.168.62.101
   ```

4. **æª¢æŸ¥é˜²ç«ç‰†**
   ```bash
   sudo ufw status
   # å¦‚æœéœ€è¦ï¼Œé–‹æ”¾ç«¯å£
   sudo ufw allow 54321
   sudo ufw allow 54323
   sudo ufw allow 3050
   ```

## ğŸ“… æ›´æ–°æ—¥æœŸ

2025-12-18
