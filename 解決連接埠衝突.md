# è§£æ±º Supabase é€£æ¥åŸ è¡çªå•é¡Œ

## ğŸ”´ ç•¶å‰å•é¡Œ

éŒ¯èª¤è¨Šæ¯ï¼š
```
failed to start docker container: Error response from daemon: failed to set up container networking: 
driver failed programming external connectivity on endpoint supabase_db_WebToDispatch_2 (...): 
Bind for 0.0.0.0:54322 failed: port is already allocated
```

**å•é¡ŒåŸå› ï¼š**
- é€£æ¥åŸ  54322ï¼ˆPostgreSQL è³‡æ–™åº«é€£æ¥åŸ ï¼‰å·²ç¶“è¢«å…¶ä»–ç¨‹å¼æˆ–å®¹å™¨ä½”ç”¨
- å¯èƒ½æ˜¯ä¹‹å‰å•Ÿå‹•çš„ Supabase å®¹å™¨æ²’æœ‰æ­£ç¢ºåœæ­¢

---

## âœ… è§£æ±ºæ–¹æ¡ˆ

### æ–¹æ³• 1ï¼šåœæ­¢ä½”ç”¨çš„å®¹å™¨ï¼ˆæ¨è–¦ï¼‰

#### æ­¥é©Ÿ 1ï¼šæŸ¥çœ‹æ‰€æœ‰é‹è¡Œä¸­çš„å®¹å™¨

åœ¨ PowerShell ä¸­åŸ·è¡Œï¼š

```powershell
docker ps -a
```

é€™æœƒé¡¯ç¤ºæ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬å·²åœæ­¢çš„ï¼‰ã€‚

#### æ­¥é©Ÿ 2ï¼šåœæ­¢ Supabase ç›¸é—œå®¹å™¨

**é¸é … Aï¼šåœæ­¢æ‰€æœ‰ Supabase å®¹å™¨**

```powershell
docker stop $(docker ps -a -q --filter "name=supabase")
```

**é¸é … Bï¼šæ‰‹å‹•åœæ­¢ç‰¹å®šå®¹å™¨**

å¦‚æœçœ‹åˆ°åç‚º `supabase-db` æˆ– `supabase_db_WebToDispatch_2` çš„å®¹å™¨ï¼š

```powershell
docker stop supabase-db
```

æˆ–

```powershell
docker stop supabase_db_WebToDispatch_2
```

**é¸é … Cï¼šä½¿ç”¨ Supabase å‘½ä»¤åœæ­¢**

```powershell
cd "c:\Users\dunre\OneDrive\æ–‡ä»¶\è«‹è³¼å–®\WebToDispatch_2"
supabase stop
```

#### æ­¥é©Ÿ 3ï¼šåˆªé™¤èˆŠå®¹å™¨ï¼ˆå¯é¸ï¼‰

å¦‚æœå®¹å™¨å·²ç¶“åœæ­¢ä½†é‚„åœ¨ï¼Œå¯ä»¥åˆªé™¤ï¼š

```powershell
docker rm supabase-db
```

æˆ–åˆªé™¤æ‰€æœ‰å·²åœæ­¢çš„ Supabase å®¹å™¨ï¼š

```powershell
docker rm $(docker ps -a -q --filter "name=supabase")
```

#### æ­¥é©Ÿ 4ï¼šé‡æ–°å•Ÿå‹• Supabase

```powershell
cd "c:\Users\dunre\OneDrive\æ–‡ä»¶\è«‹è³¼å–®\WebToDispatch_2"
supabase start
```

---

### æ–¹æ³• 2ï¼šæª¢æŸ¥ä¸¦åœæ­¢ä½”ç”¨é€£æ¥åŸ çš„ç¨‹å¼

#### æ­¥é©Ÿ 1ï¼šæª¢æŸ¥å“ªäº›ç¨‹å¼åœ¨ä½¿ç”¨é€£æ¥åŸ  54322

```powershell
netstat -ano | findstr :54322
```

é€™æœƒé¡¯ç¤ºé¡ä¼¼ï¼š
```
TCP    0.0.0.0:54322    0.0.0.0:0    LISTENING    12345
```

æœ€å¾Œçš„æ•¸å­—ï¼ˆ12345ï¼‰æ˜¯é€²ç¨‹ IDï¼ˆPIDï¼‰ã€‚

#### æ­¥é©Ÿ 2ï¼šæŸ¥çœ‹æ˜¯ä»€éº¼ç¨‹å¼

```powershell
tasklist | findstr 12345
```

å°‡ `12345` æ›¿æ›ç‚ºä½ çœ‹åˆ°çš„å¯¦éš› PIDã€‚

#### æ­¥é©Ÿ 3ï¼šåœæ­¢è©²ç¨‹å¼

**å¦‚æœæ˜¯ Docker å®¹å™¨ï¼š**
```powershell
docker stop <å®¹å™¨åç¨±æˆ–ID>
```

**å¦‚æœæ˜¯å…¶ä»–ç¨‹å¼ï¼š**
```powershell
taskkill /PID 12345 /F
```

å°‡ `12345` æ›¿æ›ç‚ºå¯¦éš›çš„ PIDã€‚

---

### æ–¹æ³• 3ï¼šä¿®æ”¹ Supabase é…ç½®ä½¿ç”¨ä¸åŒé€£æ¥åŸ 

å¦‚æœç„¡æ³•åœæ­¢ä½”ç”¨é€£æ¥åŸ çš„ç¨‹å¼ï¼Œå¯ä»¥ä¿®æ”¹ Supabase é…ç½®ã€‚

#### æ­¥é©Ÿ 1ï¼šç·¨è¼¯é…ç½®æ–‡ä»¶

é–‹å•Ÿ `supabase/config.toml` æª”æ¡ˆï¼Œæ‰¾åˆ° `[db]` å€å¡Šï¼š

```toml
[db]
port = 54322
```

#### æ­¥é©Ÿ 2ï¼šä¿®æ”¹é€£æ¥åŸ 

å°‡é€£æ¥åŸ æ”¹ç‚ºå…¶ä»–æœªä½¿ç”¨çš„é€£æ¥åŸ ï¼Œä¾‹å¦‚ï¼š

```toml
[db]
port = 54323
```

**æ³¨æ„ï¼š** ç¢ºä¿æ–°é€£æ¥åŸ æ²’æœ‰è¢«å…¶ä»–ç¨‹å¼ä½¿ç”¨ã€‚

#### æ­¥é©Ÿ 3ï¼šé‡æ–°å•Ÿå‹• Supabase

```powershell
supabase start
```

---

## ğŸ” å®Œæ•´æ¸…ç†æ­¥é©Ÿï¼ˆå¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½ä¸è¡Œï¼‰

### æ­¥é©Ÿ 1ï¼šåœæ­¢æ‰€æœ‰ Supabase æœå‹™

```powershell
cd "c:\Users\dunre\OneDrive\æ–‡ä»¶\è«‹è³¼å–®\WebToDispatch_2"
supabase stop
```

### æ­¥é©Ÿ 2ï¼šåœæ­¢ä¸¦åˆªé™¤æ‰€æœ‰ç›¸é—œå®¹å™¨

```powershell
# åœæ­¢æ‰€æœ‰ Supabase å®¹å™¨
docker stop $(docker ps -a -q --filter "name=supabase")

# åˆªé™¤æ‰€æœ‰ Supabase å®¹å™¨
docker rm $(docker ps -a -q --filter "name=supabase")
```

### æ­¥é©Ÿ 3ï¼šæª¢æŸ¥é€£æ¥åŸ 

```powershell
netstat -ano | findstr :54322
```

å¦‚æœé‚„æœ‰ç¨‹å¼åœ¨ä½¿ç”¨ï¼Œè¨˜ä¸‹ PID ä¸¦åœæ­¢å®ƒã€‚

### æ­¥é©Ÿ 4ï¼šé‡æ–°å•Ÿå‹•

```powershell
supabase start
```

---

## ğŸ“ å¸¸ç”¨ Docker å‘½ä»¤

### æŸ¥çœ‹å®¹å™¨

```powershell
# æŸ¥çœ‹é‹è¡Œä¸­çš„å®¹å™¨
docker ps

# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬å·²åœæ­¢çš„ï¼‰
docker ps -a

# æŸ¥çœ‹ Supabase ç›¸é—œå®¹å™¨
docker ps -a --filter "name=supabase"
```

### åœæ­¢å’Œåˆªé™¤å®¹å™¨

```powershell
# åœæ­¢å®¹å™¨
docker stop <å®¹å™¨åç¨±æˆ–ID>

# åˆªé™¤å®¹å™¨
docker rm <å®¹å™¨åç¨±æˆ–ID>

# å¼·åˆ¶åœæ­¢ä¸¦åˆªé™¤å®¹å™¨
docker rm -f <å®¹å™¨åç¨±æˆ–ID>
```

### æ¸…ç† Docker

```powershell
# æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨çš„å®¹å™¨ã€ç¶²è·¯ã€æ˜ åƒæª”
docker system prune

# æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨çš„æ˜ åƒæª”ï¼ˆåŒ…æ‹¬å·²æ¨™è¨˜çš„ï¼‰
docker system prune -a
```

---

## âœ… é©—è­‰è§£æ±ºæ–¹æ¡ˆ

åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ç¢ºèªé€£æ¥åŸ å·²é‡‹æ”¾ï¼š

```powershell
netstat -ano | findstr :54322
```

å¦‚æœæ²’æœ‰è¼¸å‡ºï¼Œè¡¨ç¤ºé€£æ¥åŸ å·²ç¶“é‡‹æ”¾ã€‚

ç„¶å¾Œé‡æ–°å•Ÿå‹• Supabaseï¼š

```powershell
supabase start
```

---

## ğŸ¯ å¿«é€Ÿè§£æ±ºæ­¥é©Ÿç¸½çµ

1. **åœæ­¢æ‰€æœ‰ Supabase å®¹å™¨ï¼š**
   ```powershell
   supabase stop
   ```

2. **æª¢æŸ¥é€£æ¥åŸ ï¼š**
   ```powershell
   netstat -ano | findstr :54322
   ```

3. **å¦‚æœæœ‰å…¶ä»–ç¨‹å¼ä½”ç”¨ï¼Œåœæ­¢å®ƒ**

4. **é‡æ–°å•Ÿå‹•ï¼š**
   ```powershell
   supabase start
   ```

---

## ğŸ’¡ é é˜²æªæ–½

1. **æ­£ç¢ºåœæ­¢ Supabase**
   - ä½¿ç”¨ `supabase stop` è€Œä¸æ˜¯ç›´æ¥é—œé–‰ Docker Desktop
   - é€™ç¢ºä¿å®¹å™¨æ­£ç¢ºåœæ­¢ä¸¦é‡‹æ”¾é€£æ¥åŸ 

2. **å®šæœŸæ¸…ç†**
   - å®šæœŸåŸ·è¡Œ `docker system prune` æ¸…ç†æœªä½¿ç”¨çš„å®¹å™¨å’Œæ˜ åƒæª”

3. **æª¢æŸ¥é€£æ¥åŸ è¡çª**
   - åœ¨å•Ÿå‹•å‰æª¢æŸ¥é€£æ¥åŸ æ˜¯å¦è¢«ä½”ç”¨ï¼š
     ```powershell
     netstat -ano | findstr :54322
     ```
