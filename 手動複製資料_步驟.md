# æ‰‹å‹•è¤‡è£½ PersonnelData åˆ° usersï¼ˆä½¿ç”¨ Table Editorï¼‰

## ğŸ“‹ å‰ç½®æº–å‚™

### æ­¥é©Ÿ 1ï¼šç¢ºèª users è¡¨æœ‰éœ€è¦çš„æ¬„ä½

åœ¨ Supabase Dashboard â†’ Table Editor â†’ `users` è¡¨ï¼š

1. é»æ“Šå³ä¸Šè§’çš„ **"Add Column"** æˆ– **"Edit Table"**
2. ç¢ºèªæœ‰ä»¥ä¸‹æ¬„ä½ï¼ˆå¦‚æœæ²’æœ‰ï¼Œè«‹æ·»åŠ ï¼‰ï¼š
   - `mail` (TEXT)
   - `headshot` (TEXT)

### æ­¥é©Ÿ 2ï¼šæŸ¥çœ‹éœ€è¦è¤‡è£½çš„è³‡æ–™

åœ¨ Supabase Dashboard â†’ SQL Editorï¼ŒåŸ·è¡Œä»¥ä¸‹æŸ¥è©¢æŸ¥çœ‹ PersonnelData çš„è³‡æ–™ï¼š

```sql
SELECT 
  id,
  name,
  "JobTitle" as role,
  "Mail" as mail,
  drive_link as headshot
FROM "PersonnelData"
ORDER BY id;
```

---

## ğŸ”„ æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Table Editor æ‰‹å‹•è¤‡è£½ï¼ˆé©åˆå°‘é‡è³‡æ–™ï¼‰

### æ­¥é©Ÿ 1ï¼šæ‰“é–‹å…©å€‹è¡¨

1. æ‰“é–‹ **Table Editor** â†’ **PersonnelData** è¡¨
2. æ‰“é–‹å¦ä¸€å€‹åˆ†é  â†’ **users** è¡¨ï¼ˆæˆ–ä½¿ç”¨å…©å€‹ç€è¦½å™¨è¦–çª—ï¼‰

### æ­¥é©Ÿ 2ï¼šé€ç­†è¤‡è£½è³‡æ–™

å°æ–¼æ¯ä¸€ç­† PersonnelData çš„è¨˜éŒ„ï¼š

1. **åœ¨ PersonnelData è¡¨ä¸­**ï¼š
   - è¨˜ä¸‹ `id`ã€`name`ã€`JobTitle`ã€`Mail`ã€`drive_link`

2. **åœ¨ users è¡¨ä¸­**ï¼š
   - å¦‚æœè©² `id` å·²å­˜åœ¨ï¼š
     - é»æ“Šè©²ç­†è¨˜éŒ„
     - ç·¨è¼¯æ¬„ä½ï¼š
       - `name` = PersonnelData çš„ `name`
       - `role` = PersonnelData çš„ `JobTitle`
       - `mail` = PersonnelData çš„ `Mail`
       - `headshot` = PersonnelData çš„ `drive_link`
     - é»æ“Š **Save** æˆ– **âœ“**
   
   - å¦‚æœè©² `id` ä¸å­˜åœ¨ï¼š
     - é»æ“Š **Insert row** æˆ– **+**
     - å¡«å…¥ï¼š
       - `id` = PersonnelData çš„ `id`
       - `name` = PersonnelData çš„ `name`
       - `role` = PersonnelData çš„ `JobTitle`
       - `mail` = PersonnelData çš„ `Mail`
       - `headshot` = PersonnelData çš„ `drive_link`
     - é»æ“Š **Save**

---

## ğŸ”„ æ–¹æ³•äºŒï¼šä½¿ç”¨ SQL æŸ¥è©¢è¼”åŠ©ï¼ˆæ¨è–¦ï¼Œè¼ƒå¿«ï¼‰

### æ­¥é©Ÿ 1ï¼šå…ˆæŸ¥çœ‹å°æ‡‰é—œä¿‚

åœ¨ SQL Editor åŸ·è¡Œï¼š

```sql
-- æŸ¥çœ‹ PersonnelData çš„è³‡æ–™
SELECT 
  id,
  name,
  "JobTitle",
  "Mail",
  drive_link
FROM "PersonnelData"
ORDER BY id;
```

### æ­¥é©Ÿ 2ï¼šæŸ¥çœ‹ users ç¾æœ‰è³‡æ–™

```sql
-- æŸ¥çœ‹ users çš„è³‡æ–™
SELECT 
  id,
  name,
  role,
  mail,
  headshot
FROM users
ORDER BY id;
```

### æ­¥é©Ÿ 3ï¼šä½¿ç”¨ UPDATE èªå¥ï¼ˆå¦‚æœ id å·²å­˜åœ¨ï¼‰

å¦‚æœ users è¡¨ä¸­å·²ç¶“æœ‰å°æ‡‰çš„ idï¼ŒåŸ·è¡Œï¼š

```sql
-- æ›´æ–°ç¬¬ä¸€ç­†ï¼ˆè«‹æ ¹æ“šå¯¦éš› id ä¿®æ”¹ï¼‰
UPDATE users 
SET 
  name = (SELECT name FROM "PersonnelData" WHERE id = ä½ çš„id),
  role = (SELECT "JobTitle" FROM "PersonnelData" WHERE id = ä½ çš„id),
  mail = (SELECT "Mail" FROM "PersonnelData" WHERE id = ä½ çš„id),
  headshot = (SELECT drive_link FROM "PersonnelData" WHERE id = ä½ çš„id)
WHERE id = ä½ çš„id;
```

### æ­¥é©Ÿ 4ï¼šä½¿ç”¨ INSERT èªå¥ï¼ˆå¦‚æœ id ä¸å­˜åœ¨ï¼‰

å¦‚æœ users è¡¨ä¸­æ²’æœ‰è©² idï¼ŒåŸ·è¡Œï¼š

```sql
-- æ’å…¥ä¸€ç­†ï¼ˆè«‹æ ¹æ“šå¯¦éš›è³‡æ–™ä¿®æ”¹ï¼‰
INSERT INTO users (id, name, role, mail, headshot, timestamp)
VALUES (
  ä½ çš„id,
  'å§“å',
  'è·ç¨±',
  'email@example.com',
  'https://drive.google.com/...',
  NOW()
);
```

---

## ğŸ”„ æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ Excel/Google Sheets è¼”åŠ©ï¼ˆé©åˆå¤§é‡è³‡æ–™ï¼‰

### æ­¥é©Ÿ 1ï¼šåŒ¯å‡º PersonnelData

1. åœ¨ Table Editor â†’ PersonnelData
2. é»æ“Šå³ä¸Šè§’çš„ **Export** æˆ– **Download CSV**
3. ä¸‹è¼‰è³‡æ–™åˆ° Excel/Google Sheets

### æ­¥é©Ÿ 2ï¼šæº–å‚™æ›´æ–°èªå¥

åœ¨ Excel/Google Sheets ä¸­ï¼Œå»ºç«‹å…¬å¼ç”Ÿæˆ SQL UPDATE èªå¥ï¼š

å‡è¨­è³‡æ–™åœ¨ A æ¬„ï¼ˆidï¼‰ã€B æ¬„ï¼ˆnameï¼‰ã€C æ¬„ï¼ˆJobTitleï¼‰ã€D æ¬„ï¼ˆMailï¼‰ã€E æ¬„ï¼ˆdrive_linkï¼‰

åœ¨ F æ¬„è¼¸å…¥å…¬å¼ï¼š
```
="UPDATE users SET name = '"&B2&"', role = '"&C2&"', mail = '"&D2&"', headshot = '"&E2&"' WHERE id = "&A2&";"
```

### æ­¥é©Ÿ 3ï¼šè¤‡è£½ SQL èªå¥

1. è¤‡è£½æ‰€æœ‰ç”Ÿæˆçš„ SQL èªå¥
2. åœ¨ Supabase SQL Editor ä¸­è²¼ä¸Šä¸¦åŸ·è¡Œ

---

## âš ï¸ æ³¨æ„äº‹é …

1. **å‚™ä»½è³‡æ–™**ï¼šåœ¨æ“ä½œå‰ï¼Œå»ºè­°å…ˆå‚™ä»½ users è¡¨
   ```sql
   -- å‚™ä»½ users è¡¨ï¼ˆå»ºç«‹å‰¯æœ¬ï¼‰
   CREATE TABLE users_backup AS SELECT * FROM users;
   ```

2. **ç¢ºèªæ¬„ä½åç¨±**ï¼š
   - PersonnelData çš„ `JobTitle` â†’ users çš„ `role`
   - PersonnelData çš„ `Mail` â†’ users çš„ `mail`
   - PersonnelData çš„ `drive_link` â†’ users çš„ `headshot`

3. **ç©ºå€¼è™•ç†**ï¼šå¦‚æœæŸäº›æ¬„ä½æ˜¯ç©ºçš„ï¼Œå¯ä»¥è·³éæˆ–å¡«å…¥é è¨­å€¼

4. **ID è¡çª**ï¼šå¦‚æœ users è¡¨ä¸­å·²æœ‰ç›¸åŒçš„ idï¼ŒUPDATE æœƒæ›´æ–°è©²ç­†è¨˜éŒ„

---

## âœ… é©—è­‰çµæœ

åŸ·è¡Œä»¥ä¸‹æŸ¥è©¢ç¢ºèªè¤‡è£½æ˜¯å¦æˆåŠŸï¼š

```sql
-- å°æ¯”å…©å€‹è¡¨çš„è³‡æ–™
SELECT 
  p.id,
  p.name as personnel_name,
  p."JobTitle" as personnel_role,
  p."Mail" as personnel_mail,
  u.name as user_name,
  u.role as user_role,
  u.mail as user_mail,
  u.headshot as user_headshot
FROM "PersonnelData" p
LEFT JOIN users u ON p.id = u.id
ORDER BY p.id;
```

å¦‚æœ `user_name`ã€`user_role`ã€`user_mail`ã€`user_headshot` éƒ½æœ‰å€¼ä¸”èˆ‡ PersonnelData ä¸€è‡´ï¼Œè¡¨ç¤ºè¤‡è£½æˆåŠŸï¼
